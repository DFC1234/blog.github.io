<!DOCTYPE html>
<html data-color-mode="light" data-dark-theme="dark_colorblind" data-light-theme="light" lang="zh-CN">
<head>
    <meta content="text/html; charset=utf-8" http-equiv="content-type" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link href='https://mirrors.sustech.edu.cn/cdnjs/ajax/libs/Primer/21.0.7/primer.css' rel='stylesheet' />
    <script src='https://blog.meekdai.com/Gmeek/plugins/GmeekBSZ.js'></script>
    <link rel="icon" href="https://avatars.githubusercontent.com/u/137273209?v=4"><script>
        let theme = localStorage.getItem("meek_theme") || "light";
        document.documentElement.setAttribute("data-color-mode", theme);
    </script>
<meta name="description" content="### S参数

<img width='1095' height='437' alt='Image' src='https://github.com/user-attachments/assets/ccbcb97e-f410-44fe-a94c-708fb6f6f543' />

假设理想源端发出的波为正弦波，用矢量法可表示为   

$$
v_s(t) = \mathrm{Re} \left( |V_s| e^{j(\omega t + \phi)} \right)， \quad \text{或} \quad V_s = |V_s| e^{j(\omega t + \phi)}
$$

负载处的电压和电流分别为  

$$
V_L = |V_L| e^{j\phi_V}, \quad I_L = |I_L| e^{j\phi_I}
$$



__行波__ 是沿着传输线传输的信号，分为两类：前向（F）和反向（P）。">
<meta property="og:title" content="S参数定义">
<meta property="og:description" content="### S参数

<img width='1095' height='437' alt='Image' src='https://github.com/user-attachments/assets/ccbcb97e-f410-44fe-a94c-708fb6f6f543' />

假设理想源端发出的波为正弦波，用矢量法可表示为   

$$
v_s(t) = \mathrm{Re} \left( |V_s| e^{j(\omega t + \phi)} \right)， \quad \text{或} \quad V_s = |V_s| e^{j(\omega t + \phi)}
$$

负载处的电压和电流分别为  

$$
V_L = |V_L| e^{j\phi_V}, \quad I_L = |I_L| e^{j\phi_I}
$$



__行波__ 是沿着传输线传输的信号，分为两类：前向（F）和反向（P）。">
<meta property="og:type" content="article">
<meta property="og:url" content="https://DFC1234.github.io/blog.github.io/post/S-can-shu-ding-yi.html">
<meta property="og:image" content="https://avatars.githubusercontent.com/u/137273209?v=4">
<title>S参数定义</title>



</head>
<style>
body{box-sizing: border-box;min-width: 200px;max-width: 900px;margin: 20px auto;padding: 45px;font-size: 16px;font-family: sans-serif;line-height: 1.25;}
#header{display:flex;padding-bottom:8px;border-bottom: 1px solid var(--borderColor-muted, var(--color-border-muted));margin-bottom: 16px;}
#footer {margin-top:64px; text-align: center;font-size: small;}

</style>

<style>
.postTitle{margin: auto 0;font-size:40px;font-weight:bold;}
.title-right{display:flex;margin:auto 0 0 auto;}
.title-right .circle{padding: 14px 16px;margin-right:8px;}
#postBody{border-bottom: 1px solid var(--color-border-default);padding-bottom:36px;}
#postBody hr{height:2px;}
#cmButton{height:48px;margin-top:48px;}
#comments{margin-top:64px;}
.g-emoji{font-size:24px;}
@media (max-width: 600px) {
    body {padding: 8px;}
    .postTitle{font-size:24px;}
}

</style>




<body>
    <div id="header">
<h1 class="postTitle">S参数定义</h1>
<div class="title-right">
    <a href="https://DFC1234.github.io/blog.github.io" id="buttonHome" class="btn btn-invisible circle" title="首页">
        <svg class="octicon" width="16" height="16">
            <path id="pathHome" fill-rule="evenodd"></path>
        </svg>
    </a>
    
    <a href="https://github.com/DFC1234/blog.github.io/issues/20" target="_blank" class="btn btn-invisible circle" title="Issue">
        <svg class="octicon" width="16" height="16">
            <path id="pathIssue" fill-rule="evenodd"></path>
        </svg>
    </a>
    

    <a class="btn btn-invisible circle" onclick="modeSwitch();" title="切换主题">
        <svg class="octicon" width="16" height="16" >
            <path id="themeSwitch" fill-rule="evenodd"></path>
        </svg>
    </a>

</div>
</div>
    <div id="content">
<div class="markdown-body" id="postBody"><h3>S参数</h3>
<p><a target="_blank" rel="noopener noreferrer" href="https://github.com/user-attachments/assets/ccbcb97e-f410-44fe-a94c-708fb6f6f543"><img width="1095" height="437" alt="Image" src="https://github.com/user-attachments/assets/ccbcb97e-f410-44fe-a94c-708fb6f6f543" style="max-width: 100%; height: auto; max-height: 437px;"></a></p>
<p>假设理想源端发出的波为正弦波，用矢量法可表示为</p>
<p>$$
v_s(t) = \mathrm{Re} \left( |V_s| e^{j(\omega t + \phi)} \right)， \quad \text{或} \quad V_s = |V_s| e^{j(\omega t + \phi)}
$$</p>
<p>负载处的电压和电流分别为</p>
<p>$$
V_L = |V_L| e^{j\phi_V}, \quad I_L = |I_L| e^{j\phi_I}
$$</p>
<p><strong>行波</strong> 是沿着传输线传输的信号，分为两类：前向（F）和反向（P）。</p>
<p>假设传输线上任一点处的电压为 $V(z)$，电流为 $I(z)$。在参考点处，总电压为 $V(0)$，并且 $V(0) = V_1$；总电流为 $I(0)$。传输到负载的功率可以表示为</p>
<p>$$
P_L = P^F - P^R \quad
$$</p>
<p>$P^F$ 称为前向电压， $P^R$  称为反向电压。末尾端口处的总电压可以定义为流入端口的前向电压和流出端口的反向电压之和  （直接相加，流出的值是负数）</p>
<p>$$
V_1 = V_F + V_R \quad
$$</p>
<p>前向的电压波指的是功率从源端流向负载方向，反向的电压波指的是功率从负载流向源的方向。一个正弦信号电压源，把电压用时间的函数来表示，即</p>
<p>$$
v_1(t) = V_1^p \cos(\omega t + \phi) = \mathrm{Re}\left( V_1^p e^{j(\omega t + \phi)} \right) \quad
$$</p>
<p>$V_1^p$  为峰值电压，那么均方根电压为</p>
<p>$$
V_1 = \dfrac{V_1^p}{\sqrt{2}}
$$</p>
<p>对功率的讨论中经常能看到 $\sqrt{2}$ 这个系数。通常用均方根电压（RMS）来计算正弦波的功率。在下面它指的是正弦波的幅度。<br>
源阻抗定义为 $Z_s$，传输线阻抗（端口阻抗）定义为 $Z_0$。假设匹配，  $Z_s = Z_0$，并且 $Z_0$ 为实数（50/75欧），可以把前向和反向电压与其 <strong>等效</strong> 的功率联系起来。这时候再看图中的参考点，如果可以在参考点的位置插入一个电流表或者电压表，那么就可以得到此处的电压或者电流值。<br>
源端的输出电压等于源内阻抗产生的压降与端口 1 处的压降之和</p>
<p>$$
V_S = V_1 + I_1 Z_0
$$</p>
<p>前向电压为</p>
<p>$$
V_F = \dfrac{1}{2} (V_1 + I_1 Z_0)
$$</p>
<p>可以看到前向电压表示负载为 $Z_0$ 时端口 1 处的电压值。从式 (1.4) 可以得到反向电压</p>
<p>$$
V_R = \dfrac{1}{2} (V_1 - I_1 Z_0)
$$</p>
<p>上面两个相加  在匹配时差项相销。<br>
假设图 1.1 中的传输线为无限长（此时可以忽略负载的影响），那么参考点处的传输线阻抗与源阻抗相等，称为端口参考阻抗，那么流入传输线的瞬时电流为</p>
<p>$$
I_F = V_S \left( \dfrac{1}{Z_0 + Z_S} \right) = \dfrac{V_S}{2Z_0} \Big|_{Z_0 = Z_S}
$$</p>
<p>该点处的电压等于前向电压为</p>
<p>$$
V_F = V_S \left( \dfrac{Z_0}{Z_0 + Z_S} \right) = \dfrac{V_S}{2} \Big|_{Z_0 = Z_S}
$$</p>
<p>送至传输线（或者负载 $Z_0$）的功率为</p>
<p>$$
P_F = V_F I_F = \dfrac{V_F^2}{Z_0} = \dfrac{V_S^2}{4Z_0}
$$</p>
<p>由此可以看出，可以用归一化的输入电压和反射电压 $a$ 和 $b$ 来代表入射功率和反射功率</p>
<p>$$
a = \dfrac{V_F}{\sqrt{Z_0}}, \quad b = \dfrac{V_R}{\sqrt{Z_0}} \quad \text{假设 } Z_0 \text{ 为实数}
$$</p>
<p>一种更正式的表示为</p>
<p>$$
a = \dfrac{1}{2} \left( \dfrac{V_1 + I_1 Z_0}{\sqrt{|\mathrm{Re},Z_0|}} \right), \quad
b = \dfrac{1}{2} \left( \dfrac{V_1 - I_1 Z_0^*}{\sqrt{|\mathrm{Re},Z_0|}} \right)
$$</p>
<p>考虑了 $Z_0$ 不为实数的情况。但是在实际测量中，复数的参考阻抗比较少见。<br>
对于  $Z_0$  为实数的情况，可以定义前向功率（或者称为入射功率）为  $|a|^2$ ，反向功率（或者叫散射功率）为  $|b|^2$ ，并把  $a$  和  $b$  分别当成前向和反向电压值，为功率单位的平方根。<br>
实际上通常使用较简单的定义，因为 $Z_0$ 的值基本都为 50 Ω 或者 75 Ω。对于波导来说，其阻抗通常与波导类型有关，并且会随频率变化，因此对于波导阻抗建议用归一化的值，也就是用 1 来表示。1 指的不是 1 Ω，而是代表波导阻抗相对于理想波导阻抗的归一化值。<br>
定义了输入波和反射波，能看出输入波是一个自变量，而反射波是因变量。</p>
<h4>正经二端口网络</h4>
<p><a target="_blank" rel="noopener noreferrer" href="https://github.com/user-attachments/assets/cf8e17fa-613d-4daa-a515-56b0ccac9afe"><img width="276" height="85" alt="Image" src="https://github.com/user-attachments/assets/cf8e17fa-613d-4daa-a515-56b0ccac9afe" style="max-width: 100%; height: auto; max-height: 85px;"></a></p>
<p><em>连接了源和负载的二端口网络</em></p>
<p>在每个端口 $i$ 处都有一个入射波和一个反射波，其中</p>
<p>$$
a_i = \dfrac{V_{Fi}}{\sqrt{Z_{0i}}}, \quad b_i = \dfrac{V_{Ri}}{\sqrt{Z_{0i}}}
$$</p>
<p>每个端口处的电压和电流分别为</p>
<p>$$
V_i = \sqrt{Z_{0i}}(a_i + b_i), \quad I_i = \dfrac{1}{\sqrt{Z_{0i}}}(a_i - b_i)
$$</p>
<p>其中 $Z_{0i}$ 为第 $i$ 个端口处的参考阻抗。<br>
在这里值得注意的是：参考阻抗不一定要等于端口阻抗或者网络的阻抗，它只是一个“名义上的”阻抗值，也就是说，它只是在决定 $S$ 参数时起的一个名字，与电路中的任何阻抗都无关。<br>
因此，可以用一个 50 Ω 的测试系统来测量一个 75 Ω 的器件，其 $S$ 参数测量值是参考阻抗为 75 Ω 时的值。</p>
<p>“反射”这个词最早起源于光学，指的是由于折射率的不同，使得光从透镜或者其他物质反射回来的现象。而  $S$  参数或者  $S$  矩阵是从粒子物理学中的波状粒子在石英中的散射现象得来的。<br>
在微波领域里， $S$  参数表示以输入入射波为自变量、反射波为因变量的关系。对于一个二端口网络来说就是</p>
<p>$$
\begin{cases}
b_1 = S_{11} a_1 + S_{12} a_2 \\
b_2 = S_{21} a_1 + S_{22} a_2
\end{cases}
$$</p>
<p>用矩阵表示就是</p>
<p>$$
\begin{bmatrix}
b_1 \\
b_2
\end{bmatrix}
=\begin{bmatrix}
S_{11} &amp; S_{12} \\
S_{21} &amp; S_{22}
\end{bmatrix}
\begin{bmatrix}
a_1 \\
a_2
\end{bmatrix}
$$</p>
<p>其中  $a$  表示端口处的入射功率，也就是输入到端口处的功率； $b$  表示散射功率，也就是反射的或从端口发出的功率。<br>
如果端口数目大于 2，那么矩阵可以推广为</p>
<p>$$
\begin{bmatrix}
b_1 \\
b_2 \\
\vdots \\
b_n
\end{bmatrix}
=\begin{bmatrix}
S_{11} &amp; S_{12} &amp; \cdots &amp; S_{1n} \\
S_{21} &amp; S_{22} &amp; \cdots &amp; S_{2n} \\
\vdots &amp; \vdots &amp; \ddots &amp; \vdots \\
S_{n1} &amp; S_{n2} &amp; \cdots &amp; S_{nn}
\end{bmatrix}
\begin{bmatrix}
a_1 \\
a_2 \\
\vdots \\
a_n
\end{bmatrix}
\quad \text{或} \quad [b_n] = [S] \cdot [a_n]
$$</p>
<p>可以看出从输入波得到反射波需要  $4$  个参数，下面只包含两个等式。<br>
因此，为了求得一个网络的  $S$  参数，需要两组线性独立的  $a_1$  和  $a_2$  值（构成 4 个等式）。<br>
最常见的做法是将  $a_2 = 0$ ，得到  $b$  的测量值，然后将  $a_1 = 0$ ，得到第二组  $b$  的测量值如下：</p>
<p>$$

S_{11} = \left. \dfrac{b_1}{a_1} \right|_{a_2 = 0}, \quad

S_{12} = \left. \dfrac{b_1}{a_2} \right|_{a_1 = 0}, \quad

S_{21} = \left. \dfrac{b_2}{a_1} \right|_{a_2 = 0}, \quad

S_{22} = \left. \dfrac{b_2}{a_2} \right|_{a_1 = 0}

$$</p>
<p>这就是从  $a$  和  $b$  得出的关于  $S$  参数的最常用表达式，通常也是唯一的表达式。<br>
但是  $S$  参数的定义中并不要求输入信号的其中一个必须为零，只需要合理地定义两组有效的输入信号  $a_n$  和  $a_n'$  及其反射信号  $b_n$  和   $ b_n'$    即可。</p>
<p>$$
S_{11} =\left( \dfrac{b_1 a_2' - a_2 b_1'}{a_1 a_2' - a_2 a_1'} \right), \quad
S_{12} =\left( \dfrac{b_1' a_1 - a_1' b_1}{a_1 a_2' - a_2 a_1'} \right), \quad
S_{21} =\left( \dfrac{b_2 a_2' - a_2 b_2'}{a_1 a_2' - a_2 a_1'} \right), \quad
S_{22} =\left( \dfrac{b_2' a_1 - a_1' b_2}{a_1 a_2' - a_2 a_1'} \right)
$$</p>
<p>可以看出  $S$  参数通常由一对激励决定。<br>
在实际情况下，对于比较复杂的  $S$  参数测量，这一点尤其重要。因为在实际的测试系统中存在失配，通常无法保证其中一个输入信号为零。</p>
<p>从上面的定义很自然地联想到  $S_{nn}$  为反射系数，并且与 DUT 端口的输入阻抗直接相关，而  $S_{mn}$  为传输系数，并且与 DUT 从一个端口到另一个端口的增益或者损耗有关。</p>
<h4>S参数的定义</h4>
<p><a target="_blank" rel="noopener noreferrer" href="https://github.com/user-attachments/assets/4c5eac9c-9507-4934-8884-7b4ca99e4312"><img width="178" height="97" alt="Image" src="https://github.com/user-attachments/assets/4c5eac9c-9507-4934-8884-7b4ca99e4312" style="max-width: 100%; height: auto; max-height: 97px;"></a></p>
<p><em>一端口网络</em></p>
<p>$Z_L$ 为任意值， $Z_0$（源阻抗）为参考阻抗。<br>
$V_1 = V_S \left( \dfrac{Z_L}{Z_L + Z_0} \right), \quad I_1 = V_S \left( \dfrac{1}{Z_L + Z_0} \right)$<br>
$a_1 = \dfrac{V_S}{2\sqrt{Z_0}}, \quad b_1 = \dfrac{V_S}{2\sqrt{Z_0}} \left( \dfrac{Z_L - Z_0}{Z_L + Z_0} \right)$<br>
$S_{11} = \dfrac{b_1}{a_1} = \dfrac{Z_L - Z_0}{Z_L + Z_0}$</p>
<p>通常把 $S_{11}$ 当成网络的输入阻抗，其中<br>
$Z_{in} = \dfrac{V_1}{I_1}$</p>
<p>对于一端口的网络来说是这样：如果网络有多个端口，并在各个端口处都端接一个参考阻抗值大小的负载，就可以把该式扩展到 $n$ 端口的网络。<br>
但是，如果不能确定网络端口的端接阻抗，就不能认为 $S_{11}$ 就是网络的输入阻抗。这也是确定网络的输入阻抗时 $S$ 参数最大的误用之一。<br>
$S_{11}$  是适用于任何端接负载情况下的，但事实上只有在每个其他端口都端接参考阻抗的情况下，也就是满足假设的情况下， $S_{11}$  才等于网络的输入阻抗。</p>
<p>如果负载不等于参考阻抗，此时  $a_1$  和  $b_1$  存在，而当网络终端连接任意值负载时， $\Gamma_1$ （也称为二端口网络的  $\Gamma_{in}$ ）变为</p>
<p>$$
\Gamma_1 = \dfrac{b_1}{a_1}
$$</p>
<p>此时  $\Gamma_1$  代表网络和端接负载整体的输入阻抗。<br>
这其中的区别在于：如果网络的输入和输出端接阻抗都是相对参考阻抗而言的，那么网络的  $S$  参数是不随输入或者输出端接负载变化的；<br>
但是网络的输入阻抗却取决于其他各端口的端接阻抗。<br>
对于一个二端口的网络来说，可以直接根据  $S$  参数和终端负载  $Z_L$  来计算  $\Gamma_1$  的值，其关系如下：</p>
<p>$$
\Gamma_1 = \left( S_{11} + \dfrac{S_{21} S_{12} \Gamma_L}{1 - S_{22} \Gamma_L} \right)
$$</p>
<p>其中  $\Gamma_L$</p>
<p>$$
\Gamma_L = \dfrac{Z_L - Z_0}{Z_L + Z_0}
$$</p>
<p>对于端接任意负载的二端口网络来说</p>
<p>$$
\Gamma_L = \dfrac{a_2}{b_2}
$$</p>
<p>同样地，对于一个具有任意源阻抗的网络，其输出阻抗为</p>
<p>$$
\Gamma_2 = \left( S_{22} + \dfrac{S_{21} S_{12} \Gamma_S}{1 - S_{11} \Gamma_S} \right)
$$</p>
<p>另外一个与输入阻抗有关的常用术语是驻波比（VSWR）或简称为 SWR。<br>
它表示在端接任意负载的情况下，传输线  $Z_0$  上可以测量到的最大电压与最小电压之比。<br>
驻波比也可以用  $S$  参数表示为</p>
<p>$$
\text{VSWR} = \dfrac{1 + |\Gamma_{11}|}{1 - |\Gamma_{11}|}
$$</p>
<p>当网络的端接阻抗等于参考阻抗时， $\Gamma_1 = S_{11}$ 。<br>
还有一个用来表示输入阻抗的参数为反射系数   $\rho_{in}$  ：</p>
<p>$$
\rho_{in} = |\Gamma_{in}|
$$</p>
<p>更常见的表示方法如下：</p>
<p>$$
\text{VSWR} = \dfrac{1 + \rho}{1 - \rho}
$$</p>
<p>另外一个与输入阻抗有关的参数为回波损耗（return loss），其定义为</p>
<p>$$
\text{RL} = 20 \cdot \lg \left( \dfrac{1}{|\Gamma|} \right) = -20 \cdot \lg (|\Gamma|)
$$</p>
<p>第二种定义更准确一些，因为通常反射信号要小于入射信号，这样计算得到的损耗为一个正值。<br>
但是，在很多情况下，前一种定义更为常见。微波工程师在使用中常常是考虑实际的应用需求来判断这个符号的实际意义。<br>
例如——一天线的回波损耗为 14 dB，那就可以理解为它的反射系数约为 0.2，而测试仪上显示的数值可能是 -14 dB。</p>
<p>对于传输测量来说，通常增益（Gain），或者插入损耗（insertion loss，当插损值很大时有时也称为隔离度 isolation）也是关心的参数。<br>
增益通常表示为 dB，并且与回波损耗类似，它也表示为一个正值。<br>
也就是说：</p>
<p>$$
\text{增益} = 20 \lg (|S_{21}|)
$$</p>
<p>插入损耗，或者叫隔离度，定义为</p>
<p>$$
\text{插入损耗} = \text{隔离度} = -20 \lg (|S_{21}|)
$$</p>
<p>同样地，实际应用时需要根据情况来区分。<br>
例如，一个隔离度为 40 dB 的器件在测量仪表上显示为 -40 dB，因为测量仪表通常采用式 (1.35) 中的定义来计算。</p>
<p>注意回波损耗、增益或者插入损耗都是用 dB 来进行计算的，dB = 20 log (|S_mn|)，而通常人们认为的功率比 $X_{dB} = 10 \lg (X)$。<br>
这种差异产生于人们用总电功率的增益 dB 等同于电压的增益，而电压的增益也是用 dB 来计算的。</p>
<p>对于一个源阻抗为 $Z_0$，终端阻抗也为 $Z_0$ 的元器件来说，功率增益定义为发送到负载的功率与源功率输出的比值，也就是</p>
<p>$$
\text{功率增益} = 10 \lg \left( \dfrac{P_{\text{To Load}}}{P_{\text{From Source}}} \right)
$$</p>
<p>源端发出的功率为 $|a_1|^2$，发送至负载的功率为  $|b_2|^2$ 。<br>
对于源匹配和负载匹配的元器件来说，其  $S$  参数的增益（也就是 $S_{21}$）为</p>
<p>$$
S_{21} = \dfrac{b_2}{a_1}, \quad |S_{21}|^2 = \dfrac{|b_2|^2}{|a_1|^2} = \text{功率增益}
$$</p>
<p>用式 (1.37) 计算并将其转换为 dB 为</p>
<p>$$
\text{功率增益(dB)} = 10 \lg (|S_{21}|^2) = 20 \lg (|S_{21}|)
$$</p>
<p>在这里多讨论一下功率，因为功率通常有多个含义，如果使用不当的话，容易混乱。<br>
如图 1.1 所示，对于一个给定源阻抗的电路来说，存在一个负载阻抗值，可以使源功率输出到负载的功率最大。<br>
而当负载阻抗等于源阻抗时，或者负载阻抗为源阻抗的共轭时，可以保证最大功率率向输出，这个最大功率为</p>
<p>$$
P_{\text{max}} = \dfrac{|V_S|^2}{4 \cdot \mathrm{Re}(Z_S)}
$$</p>
<p>值得一提的是，如果源阻抗为实数，并且等于参考阻抗的话，式 (1.40) 中所指的最大功率等于 $|a_1|^2$，<br>
从源发出到负载的功率就是最大。<br>
当负载实际吸收的功率用  $a$  和  $b$  来表示时，为</p>
<p>$$
P_{\text{del}} = |a|^2 - |b|^2
$$</p></div>
<div style="font-size:small;margin-top:8px;float:right;"></div>

<button class="btn btn-block" type="button" onclick="openComments()" id="cmButton">评论</button>
<div class="comments" id="comments"></div>

</div>
    <div id="footer"><div id="footer1">Copyright © <span id="copyrightYear"></span> <a href="https://DFC1234.github.io/blog.github.io">Gruidae'Blog</a></div>
<div id="footer2">
    <span id="runday"></span><span>Powered by <a href="https://meekdai.com/Gmeek.html" target="_blank">Gmeek</a></span>
</div>

<script>
var now=new Date();
document.getElementById("copyrightYear").innerHTML=now.getFullYear();

if("10/1/2025"!=""){
    var startSite=new Date("10/1/2025");
    var diff=now.getTime()-startSite.getTime();
    var diffDay=Math.floor(diff/(1000*60*60*24));
    document.getElementById("runday").innerHTML="网站运行"+diffDay+"天"+" • ";
}
</script></div>
</body>
<script>
var IconList={'sun': 'M8 10.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5zM8 12a4 4 0 100-8 4 4 0 000 8zM8 0a.75.75 0 01.75.75v1.5a.75.75 0 01-1.5 0V.75A.75.75 0 018 0zm0 13a.75.75 0 01.75.75v1.5a.75.75 0 01-1.5 0v-1.5A.75.75 0 018 13zM2.343 2.343a.75.75 0 011.061 0l1.06 1.061a.75.75 0 01-1.06 1.06l-1.06-1.06a.75.75 0 010-1.06zm9.193 9.193a.75.75 0 011.06 0l1.061 1.06a.75.75 0 01-1.06 1.061l-1.061-1.06a.75.75 0 010-1.061zM16 8a.75.75 0 01-.75.75h-1.5a.75.75 0 010-1.5h1.5A.75.75 0 0116 8zM3 8a.75.75 0 01-.75.75H.75a.75.75 0 010-1.5h1.5A.75.75 0 013 8zm10.657-5.657a.75.75 0 010 1.061l-1.061 1.06a.75.75 0 11-1.06-1.06l1.06-1.06a.75.75 0 011.06 0zm-9.193 9.193a.75.75 0 010 1.06l-1.06 1.061a.75.75 0 11-1.061-1.06l1.06-1.061a.75.75 0 011.061 0z', 'moon': 'M9.598 1.591a.75.75 0 01.785-.175 7 7 0 11-8.967 8.967.75.75 0 01.961-.96 5.5 5.5 0 007.046-7.046.75.75 0 01.175-.786zm1.616 1.945a7 7 0 01-7.678 7.678 5.5 5.5 0 107.678-7.678z', 'sync': 'M1.705 8.005a.75.75 0 0 1 .834.656 5.5 5.5 0 0 0 9.592 2.97l-1.204-1.204a.25.25 0 0 1 .177-.427h3.646a.25.25 0 0 1 .25.25v3.646a.25.25 0 0 1-.427.177l-1.38-1.38A7.002 7.002 0 0 1 1.05 8.84a.75.75 0 0 1 .656-.834ZM8 2.5a5.487 5.487 0 0 0-4.131 1.869l1.204 1.204A.25.25 0 0 1 4.896 6H1.25A.25.25 0 0 1 1 5.75V2.104a.25.25 0 0 1 .427-.177l1.38 1.38A7.002 7.002 0 0 1 14.95 7.16a.75.75 0 0 1-1.49.178A5.5 5.5 0 0 0 8 2.5Z', 'home': 'M6.906.664a1.749 1.749 0 0 1 2.187 0l5.25 4.2c.415.332.657.835.657 1.367v7.019A1.75 1.75 0 0 1 13.25 15h-3.5a.75.75 0 0 1-.75-.75V9H7v5.25a.75.75 0 0 1-.75.75h-3.5A1.75 1.75 0 0 1 1 13.25V6.23c0-.531.242-1.034.657-1.366l5.25-4.2Zm1.25 1.171a.25.25 0 0 0-.312 0l-5.25 4.2a.25.25 0 0 0-.094.196v7.019c0 .138.112.25.25.25H5.5V8.25a.75.75 0 0 1 .75-.75h3.5a.75.75 0 0 1 .75.75v5.25h2.75a.25.25 0 0 0 .25-.25V6.23a.25.25 0 0 0-.094-.195Z', 'github': 'M8 0c4.42 0 8 3.58 8 8a8.013 8.013 0 0 1-5.45 7.59c-.4.08-.55-.17-.55-.38 0-.27.01-1.13.01-2.2 0-.75-.25-1.23-.54-1.48 1.78-.2 3.65-.88 3.65-3.95 0-.88-.31-1.59-.82-2.15.08-.2.36-1.02-.08-2.12 0 0-.67-.22-2.2.82-.64-.18-1.32-.27-2-.27-.68 0-1.36.09-2 .27-1.53-1.03-2.2-.82-2.2-.82-.44 1.1-.16 1.92-.08 2.12-.51.56-.82 1.28-.82 2.15 0 3.06 1.86 3.75 3.64 3.95-.23.2-.44.55-.51 1.07-.46.21-1.61.55-2.33-.66-.15-.24-.6-.83-1.23-.82-.67.01-.27.38.01.53.34.19.73.9.82 1.13.16.45.68 1.31 2.69.94 0 .67.01 1.3.01 1.49 0 .21-.15.45-.55.38A7.995 7.995 0 0 1 0 8c0-4.42 3.58-8 8-8Z'};
var utterancesLoad=0;

let themeSettings={
    "dark": ["dark","moon","#00f0ff","dark-blue"],
    "light": ["light","sun","#ff5000","github-light"],
    "auto": ["auto","sync","","preferred-color-scheme"]
};
function changeTheme(mode, icon, color, utheme){
    document.documentElement.setAttribute("data-color-mode",mode);
    document.getElementById("themeSwitch").setAttribute("d",value=IconList[icon]);
    document.getElementById("themeSwitch").parentNode.style.color=color;
    if(utterancesLoad==1){utterancesTheme(utheme);}
}
function modeSwitch(){
    let currentMode=document.documentElement.getAttribute('data-color-mode');
    let newMode = currentMode === "light" ? "dark" : currentMode === "dark" ? "auto" : "light";
    localStorage.setItem("meek_theme", newMode);
    if(themeSettings[newMode]){
        changeTheme(...themeSettings[newMode]);
    }
}
function utterancesTheme(theme){
    const message={type:'set-theme',theme: theme};
    const iframe=document.getElementsByClassName('utterances-frame')[0];
    iframe.contentWindow.postMessage(message,'https://utteranc.es');
}
if(themeSettings[theme]){changeTheme(...themeSettings[theme]);}
console.log("\n %c Gmeek last https://github.com/Meekdai/Gmeek \n","padding:5px 0;background:#02d81d;color:#fff");
</script>

<script>
document.getElementById("pathHome").setAttribute("d",IconList["home"]);
document.getElementById("pathIssue").setAttribute("d",IconList["github"]);



function openComments(){
    cm=document.getElementById("comments");
    cmButton=document.getElementById("cmButton");
    cmButton.innerHTML="loading";
    span=document.createElement("span");
    span.setAttribute("class","AnimatedEllipsis");
    cmButton.appendChild(span);

    script=document.createElement("script");
    script.setAttribute("src","https://utteranc.es/client.js");
    script.setAttribute("repo","DFC1234/blog.github.io");
    script.setAttribute("issue-term","title");
    
    if(localStorage.getItem("meek_theme")=="dark"){script.setAttribute("theme","dark-blue");}
    else if(localStorage.getItem("meek_theme")=="light") {script.setAttribute("theme","github-light");}
    else{script.setAttribute("theme","preferred-color-scheme");}
    
    script.setAttribute("crossorigin","anonymous");
    script.setAttribute("async","");
    cm.appendChild(script);

    int=self.setInterval("iFrameLoading()",200);
}

function iFrameLoading(){
    var utterances=document.getElementsByClassName('utterances');
    if(utterances.length==1){
        if(utterances[0].style.height!=""){
            utterancesLoad=1;
            int=window.clearInterval(int);
            document.getElementById("cmButton").style.display="none";
            console.log("utterances Load OK");
        }
    }
}



</script>
<script src='https://blog.meekdai.com/Gmeek/plugins/GmeekTOC.js'></script><script src='https://blog.meekdai.com/Gmeek/plugins/lightbox.js'></script><script>MathJax = {tex: {inlineMath: [["$", "$"]]}};</script><script async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

</html>
